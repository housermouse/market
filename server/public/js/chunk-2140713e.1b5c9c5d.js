(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2140713e"],{"1b87":function(e,t,a){},"1c49":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"vipaccount-manage",staticStyle:{width:"98%"}},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("h3",[e._v("会员管理")])]),a("div",{staticClass:"text item"},[a("el-form",{attrs:{inline:!0,model:e.searchForm}},[a("el-form-item",[a("el-select",{staticStyle:{width:"150px"},attrs:{placeholder:"== 选择分类 ==",size:"small"},model:{value:e.searchForm.AccountGroup,callback:function(t){e.$set(e.searchForm,"AccountGroup",t)},expression:"searchForm.AccountGroup"}},[a("el-option",{attrs:{label:"全部分类",value:""}}),a("el-option",{attrs:{label:"黄金会员",value:"黄金会员"}}),a("el-option",{attrs:{label:"白银会员",value:"白银会员"}}),a("el-option",{attrs:{label:"普通会员",value:"普通会员"}})],1)],1),a("el-form-item",{attrs:{label:"关键字："}},[a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"(会员名称，卡号)",size:"small"},model:{value:e.searchForm.searchKey,callback:function(t){e.$set(e.searchForm,"searchKey",t)},expression:"searchForm.searchKey"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.doSearch}},[e._v("查询")])],1)],1),a("el-table",{ref:"VipaccountManageData",staticStyle:{width:"100%"},attrs:{data:e.VipaccountManageData,"tooltip-effect":"dark"}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{prop:"VipCardNum",label:"会员卡卡号"}}),a("el-table-column",{attrs:{prop:"RealName",label:"会员姓名"}}),a("el-table-column",{attrs:{prop:"AccountGroup",label:"会员等级"}}),a("el-table-column",{attrs:{prop:"PhoneNum",label:"手机号码"}}),a("el-table-column",{attrs:{prop:"EmailAddress",label:"邮箱地址"}}),a("el-table-column",{attrs:{label:"操作",width:"180px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.handleEdit(t.row)}}},[a("i",{staticClass:"el-icon-edit"}),e._v("编辑")]),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.handleDelete(t.row.id)}}},[a("i",{staticClass:"el-icon-delete"}),e._v("删除")])]}}])})],1),a("el-pagination",{staticStyle:{"margin-top":"20px"},attrs:{"current-page":e.currentPage,"page-sizes":[1,3,5,10],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),a("div",{staticStyle:{"margin-top":"20px"}},[a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:e.batchdel}},[e._v("批量删除")]),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.deselect}},[e._v("取消选中")])],1),a("el-dialog",{attrs:{title:"编辑会员信息",visible:e.dialogFormVisible,width:"450px"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"editForm",attrs:{model:e.editForm,rules:e.rules}},[a("el-form-item",{attrs:{label:"会员卡卡号","label-width":"120px",prop:"VipCardNum"}},[a("el-input",{staticStyle:{width:"217px"},attrs:{autocomplete:"off"},model:{value:e.editForm.VipCardNum,callback:function(t){e.$set(e.editForm,"VipCardNum",t)},expression:"editForm.VipCardNum"}})],1),a("el-form-item",{attrs:{label:"会员名称","label-width":"120px",prop:"RealName"}},[a("el-input",{staticStyle:{width:"217px"},attrs:{autocomplete:"off"},model:{value:e.editForm.RealName,callback:function(t){e.$set(e.editForm,"RealName",t)},expression:"editForm.RealName"}})],1),a("el-form-item",{attrs:{label:"会员等级","label-width":"120px",prop:"AccountGroup"}},[a("el-select",{attrs:{placeholder:"请选择会员等级"},model:{value:e.editForm.AccountGroup,callback:function(t){e.$set(e.editForm,"AccountGroup",t)},expression:"editForm.AccountGroup"}},[a("el-option",{attrs:{label:"黄金会员",value:"黄金会员"}}),a("el-option",{attrs:{label:"白银会员",value:"白银会员"}}),a("el-option",{attrs:{label:"普通会员",value:"普通会员"}})],1)],1),a("el-form-item",{attrs:{label:"手机号码","label-width":"120px",prop:"PhoneNum"}},[a("el-input",{staticStyle:{width:"217px"},attrs:{autocomplete:"off"},model:{value:e.editForm.PhoneNum,callback:function(t){e.$set(e.editForm,"PhoneNum",t)},expression:"editForm.PhoneNum"}})],1),a("el-form-item",{attrs:{label:"座机号码","label-width":"120px",prop:"TelNum"}},[a("el-input",{staticStyle:{width:"217px"},attrs:{autocomplete:"off"},model:{value:e.editForm.TelNum,callback:function(t){e.$set(e.editForm,"TelNum",t)},expression:"editForm.TelNum"}})],1),a("el-form-item",{attrs:{label:"邮箱地址","label-width":"120px",prop:"EmailAddress"}},[a("el-input",{staticStyle:{width:"217px"},attrs:{autocomplete:"off"},model:{value:e.editForm.EmailAddress,callback:function(t){e.$set(e.editForm,"EmailAddress",t)},expression:"editForm.EmailAddress"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.updateVip}},[e._v("确 定")])],1)],1)],1)])],1)},l=[],r=a("d282"),o={data:function(){return{searchForm:{searchKey:"",AccountGroup:""},VipaccountManageData:[],currentPage:1,pageSize:3,total:10,visible:!1,editForm:{VipCardNum:"",RealName:"",AccountGroup:"",PhoneNum:"",TelNum:"",EmailAddress:""},editId:"",rules:{VipCardNum:[{required:!0,message:"请输入会员卡卡号",trigger:"blur"},{min:6,max:8,message:"长度在 6 到 8 个字符",trigger:"blur"}],RealName:[{required:!0,message:"请输入真实姓名",trigger:"blur"},{min:2,max:4,message:"长度在 2 到 4 个字符",trigger:"blur"}],AccountGroup:[{required:!0,message:"请选择会员组",trigger:"change"}],Status:[{required:!0,message:"请选择会员状态",trigger:"change"}]},dialogFormVisible:!1,IdArr:[]}},methods:{getVipList:function(){var e=this;Object(r["o"])().then((function(t){e.VipaccountManageData=t}))},doSearch:function(){var e=this;Object(r["o"])(this.searchForm).then((function(t){e.VipaccountManageData=t}))},handleDelete:function(e){var t=this;this.$confirm("此操作将永久删除该会员, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(r["A"])(e).then((function(e){var a=e.code,i=e.reason;0===a?(t.$message({type:"success",message:i}),t.getVipList()):1===a&&t.$message.error(i)}))})).catch((function(){}))},updateVip:function(){var e=this,t=this;Object(r["y"])(this.editForm).then((function(a){a.success?e.$message({type:"success",message:a.message,duration:500,onClose:function(){t.dialogFormVisible=!1,t.getVipList()}}):e.$message({type:"error",message:a.message})}))},handleEdit:function(e){this.dialogFormVisible=!0,this.editForm=e},ajaxgetListVip:function(){var e=this;Object(r["n"])(this.currentPage,this.pageSize).then((function(t){e.VipaccountManageData=t.data.data,e.total=t.data.total}))},handleSizeChange:function(e){this.pageSize=e,this.ajaxgetListVip()},handleCurrentChange:function(e){this.currentPage=e,this.ajaxgetListVip()},SelectionChange:function(e){this.IdArr=e.map((function(e){return e.id}))},batchdel:function(){var e=this;e.IdArr.length?e.$confirm("此操作将批量删除选中数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(r["f"])({IdArr:e.IdArr}).then((function(t){var a=t.code,i=t.reason;0===a?(e.$message({type:"success",message:i}),e.ajaxgetList()):1===a&&e.$message.error(i)})).catch((function(e){alert(e)}))})).catch((function(){e.$message({type:"info",message:"已取消删除"})})):e.$message.error("请选中需要批量删除的数据！！！")},deselect:function(){this.$refs.VipaccountManageData.clearSelection()}},mounted:function(){this.ajaxgetListVip(this.currentPage)}},s=o,n=(a("99bc"),a("2877")),c=Object(n["a"])(s,i,l,!1,null,null,null);t["default"]=c.exports},"99bc":function(e,t,a){"use strict";a("1b87")}}]);
//# sourceMappingURL=chunk-2140713e.1b5c9c5d.js.map