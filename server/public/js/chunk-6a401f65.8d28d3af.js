(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6a401f65"],{"299d":function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"inventory-manage",staticStyle:{width:"95%"}},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("h3",[e._v("库存管理")])]),a("div",{staticClass:"text item"},[a("el-form",{attrs:{inline:!0,model:e.searchForm}},[a("el-form-item",[a("el-select",{staticStyle:{width:"150px"},attrs:{placeholder:"== 选择分类 ==",size:"small"},model:{value:e.searchForm.classify,callback:function(t){e.$set(e.searchForm,"classify",t)},expression:"searchForm.classify"}},[a("el-option",{attrs:{label:"全部分类",value:""}}),a("el-option",{attrs:{label:"烟酒类",value:"烟酒类"}}),a("el-option",{attrs:{label:"零食类",value:"零食类"}}),a("el-option",{attrs:{label:"饮料类",value:"饮料类"}})],1)],1),a("el-form-item",{attrs:{label:"关键字："}},[a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"(商品名称，条形码)",size:"small"},model:{value:e.searchForm.searchKey,callback:function(t){e.$set(e.searchForm,"searchKey",t)},expression:"searchForm.searchKey"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.doSearch}},[e._v("查询")])],1)],1),a("el-table",{ref:"InventorytableData",staticStyle:{width:"100%"},attrs:{data:e.InventorytableData,stripe:"","tooltip-effect":"dark"}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{prop:"GoodsBarCode",label:"商品条形码"}}),a("el-table-column",{attrs:{prop:"GoodsName",label:"商品名称"}}),a("el-table-column",{attrs:{prop:"classify",label:"商品分类"}}),a("el-table-column",{attrs:{prop:"PurchasePrice",label:"进价(元)"}}),a("el-table-column",{attrs:{prop:"GoodsNum",label:"商品数量"}}),a("el-table-column",{attrs:{prop:"inputTime",label:"添加时间",formatter:e.renderInputTime}}),a("el-table-column",{attrs:{label:"操作",width:"180px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.handleEdit(t.row)}}},[a("i",{staticClass:"el-icon-edit"}),e._v("编辑\n            ")]),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.handleDeleteStock(t.row.id)}}},[a("i",{staticClass:"el-icon-delete"}),e._v("删除\n            ")])]}}])})],1),a("el-pagination",{staticStyle:{"margin-top":"20px",background:"transparent"},attrs:{"current-page":e.currentPage,"page-sizes":[1,3,5,10],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),a("div",{staticStyle:{"margin-top":"20px"}},[a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:e.batchdel}},[e._v("批量删除")]),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.deselect}},[e._v("取消选择")])],1),a("el-dialog",{attrs:{title:"修改",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{attrs:{model:e.editForm}},[a("el-form-item",{attrs:{label:"产品名"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.editForm.GoodsName,callback:function(t){e.$set(e.editForm,"GoodsName",t)},expression:"editForm.GoodsName"}})],1),a("el-form-item",{attrs:{label:"数量"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.editForm.GoodsNum,callback:function(t){e.$set(e.editForm,"GoodsNum",t)},expression:"editForm.GoodsNum"}})],1),a("el-form-item",{attrs:{label:"市场价"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.editForm.PurchasePrice,callback:function(t){e.$set(e.editForm,"PurchasePrice",t)},expression:"editForm.PurchasePrice"}})],1),a("el-form-item",{attrs:{label:"条形码"}},[a("el-input",{attrs:{"auto-complete":"off",disabled:""},model:{value:e.editForm.GoodsBarCode,callback:function(t){e.$set(e.editForm,"GoodsBarCode",t)},expression:"editForm.GoodsBarCode"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.updateStock}},[e._v("更 新")])],1)],1)],1)])],1)},i=[],r=a("ade3"),s=a("d282"),n=a("c1df"),l=a.n(n),c={data:function(){return Object(r["a"])({searchForm:{classify:"",searchKey:""},dialogFormVisible:!1,editId:"",IdArr:[],InventorytableData:[],currentPage:1,pageSize:5,total:10,visible:!1,editForm:{GoodsName:"",GoodsNum:"",PurchasePrice:"",GoodsBarCode:""}},"dialogFormVisible",!1)},methods:{stockList:function(){var e=this;Object(s["u"])().then((function(t){e.InventorytableData=t}))},renderInputTime:function(e,t,a){return l()(a).format("Y-MM-DD")},doSearch:function(){var e=this;Object(s["u"])(this.searchForm).then((function(t){e.InventorytableData=t}))},handleDeleteStock:function(e){var t=this;this.$confirm("此操作将永久删除该用户, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(s["a"])(e).then((function(e){var a=e.code,o=e.reason;0===a?(t.$message({type:"success",message:o}),t.stockList()):1===a&&t.$message.error(o)}))})).catch((function(){}))},updateStock:function(){var e=this,t=this;Object(s["w"])(this.editForm).then((function(a){a.success?e.$message({type:"success",message:a.message,duration:500,onClose:function(){t.dialogFormVisible=!1,t.stockList()}}):e.$message({type:"error",message:a.message})}))},handleEdit:function(e){this.dialogFormVisible=!0,this.editForm=e},ajaxgetListStock:function(){var e=this;Object(s["m"])(this.currentPage,this.pageSize).then((function(t){e.InventorytableData=t.data.data,e.total=t.data.total}))},handleSizeChange:function(e){this.pageSize=e,this.ajaxgetListStock()},handleCurrentChange:function(e){this.currentPage=e,this.ajaxgetListStock()},SelectionChange:function(e){this.IdArr=e.map((function(e){return e.id}))},batchdel:function(){var e=this;e.IdArr.length?e.$confirm("此操作将批量删除选中数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(s["e"])({IdArr:e.IdArr}).then((function(t){var a=t.code,o=t.reason;0===a?(e.$message({type:"success",message:o}),e.ajaxgetList()):1===a&&e.$message.error(o)})).catch((function(e){alert(e)}))})).catch((function(){e.$message({type:"info",message:"已取消删除"})})):e.$message.error("请选中需要批量删除的数据！！！")},deselect:function(){this.$refs.InventorytableData.clearSelection()}},mounted:function(){this.ajaxgetListStock(this.currentPage)}},u=c,d=(a("c47d"),a("2877")),m=Object(d["a"])(u,o,i,!1,null,null,null);t["default"]=m.exports},"820d":function(e,t,a){},ade3:function(e,t,a){"use strict";function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}a.d(t,"a",(function(){return o}))},c47d:function(e,t,a){"use strict";a("820d")}}]);
//# sourceMappingURL=chunk-6a401f65.8d28d3af.js.map