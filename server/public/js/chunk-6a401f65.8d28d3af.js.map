{"version":3,"sources":["webpack:///./src/views/module/Stock/InventoryManage.vue?91e7","webpack:///src/views/module/Stock/InventoryManage.vue","webpack:///./src/views/module/Stock/InventoryManage.vue?0d47","webpack:///./src/views/module/Stock/InventoryManage.vue","webpack:///./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack:///./src/views/module/Stock/InventoryManage.vue?2db8"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","staticStyle","attrs","slot","_v","searchForm","model","value","callback","$$v","$set","expression","on","doSearch","ref","InventorytableData","renderInputTime","scopedSlots","_u","key","fn","scope","$event","handleEdit","row","handleDeleteStock","id","currentPage","pageSize","total","handleSizeChange","handleCurrentChange","batchdel","deselect","dialogFormVisible","editForm","updateStock","staticRenderFns","data","classify","searchKey","editId","IdArr","visible","GoodsName","GoodsNum","PurchasePrice","GoodsBarCode","methods","stockList","_this","$confirm","confirmButtonText","cancelButtonText","type","result","success","message","duration","onClose","ajaxgetListStock","NewcurrentPage","SelectionChange","map","length","$message","error","$refs","clearSelection","mounted","component","_defineProperty","obj","Object","defineProperty","enumerable","configurable","writable"],"mappings":"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","file":"js/chunk-6a401f65.8d28d3af.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"inventory-manage\",staticStyle:{\"width\":\"95%\"}},[_c('el-card',{staticClass:\"box-card\"},[_c('div',{staticClass:\"clearfix\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('h3',[_vm._v(\"库存管理\")])]),_c('div',{staticClass:\"text item\"},[_c('el-form',{attrs:{\"inline\":true,\"model\":_vm.searchForm}},[_c('el-form-item',[_c('el-select',{staticStyle:{\"width\":\"150px\"},attrs:{\"placeholder\":\"== 选择分类 ==\",\"size\":\"small\"},model:{value:(_vm.searchForm.classify),callback:function ($$v) {_vm.$set(_vm.searchForm, \"classify\", $$v)},expression:\"searchForm.classify\"}},[_c('el-option',{attrs:{\"label\":\"全部分类\",\"value\":\"\"}}),_c('el-option',{attrs:{\"label\":\"烟酒类\",\"value\":\"烟酒类\"}}),_c('el-option',{attrs:{\"label\":\"零食类\",\"value\":\"零食类\"}}),_c('el-option',{attrs:{\"label\":\"饮料类\",\"value\":\"饮料类\"}})],1)],1),_c('el-form-item',{attrs:{\"label\":\"关键字：\"}},[_c('el-input',{staticStyle:{\"width\":\"200px\"},attrs:{\"placeholder\":\"(商品名称，条形码)\",\"size\":\"small\"},model:{value:(_vm.searchForm.searchKey),callback:function ($$v) {_vm.$set(_vm.searchForm, \"searchKey\", $$v)},expression:\"searchForm.searchKey\"}})],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":_vm.doSearch}},[_vm._v(\"查询\")])],1)],1),_c('el-table',{ref:\"InventorytableData\",staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.InventorytableData,\"stripe\":\"\",\"tooltip-effect\":\"dark\"}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"width\":\"55\"}}),_c('el-table-column',{attrs:{\"prop\":\"GoodsBarCode\",\"label\":\"商品条形码\"}}),_c('el-table-column',{attrs:{\"prop\":\"GoodsName\",\"label\":\"商品名称\"}}),_c('el-table-column',{attrs:{\"prop\":\"classify\",\"label\":\"商品分类\"}}),_c('el-table-column',{attrs:{\"prop\":\"PurchasePrice\",\"label\":\"进价(元)\"}}),_c('el-table-column',{attrs:{\"prop\":\"GoodsNum\",\"label\":\"商品数量\"}}),_c('el-table-column',{attrs:{\"prop\":\"inputTime\",\"label\":\"添加时间\",\"formatter\":_vm.renderInputTime}}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"180px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){return _vm.handleEdit(scope.row)}}},[_c('i',{staticClass:\"el-icon-edit\"}),_vm._v(\"编辑\\n            \")]),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"danger\"},on:{\"click\":function($event){return _vm.handleDeleteStock(scope.row.id)}}},[_c('i',{staticClass:\"el-icon-delete\"}),_vm._v(\"删除\\n            \")])]}}])})],1),_c('el-pagination',{staticStyle:{\"margin-top\":\"20px\",\"background\":\"transparent\"},attrs:{\"current-page\":_vm.currentPage,\"page-sizes\":[1, 3, 5, 10],\"page-size\":_vm.pageSize,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}}),_c('div',{staticStyle:{\"margin-top\":\"20px\"}},[_c('el-button',{attrs:{\"type\":\"danger\",\"size\":\"mini\"},on:{\"click\":_vm.batchdel}},[_vm._v(\"批量删除\")]),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":_vm.deselect}},[_vm._v(\"取消选择\")])],1),_c('el-dialog',{attrs:{\"title\":\"修改\",\"visible\":_vm.dialogFormVisible},on:{\"update:visible\":function($event){_vm.dialogFormVisible=$event}}},[_c('el-form',{attrs:{\"model\":_vm.editForm}},[_c('el-form-item',{attrs:{\"label\":\"产品名\"}},[_c('el-input',{attrs:{\"auto-complete\":\"off\"},model:{value:(_vm.editForm.GoodsName),callback:function ($$v) {_vm.$set(_vm.editForm, \"GoodsName\", $$v)},expression:\"editForm.GoodsName\"}})],1),_c('el-form-item',{attrs:{\"label\":\"数量\"}},[_c('el-input',{attrs:{\"auto-complete\":\"off\"},model:{value:(_vm.editForm.GoodsNum),callback:function ($$v) {_vm.$set(_vm.editForm, \"GoodsNum\", $$v)},expression:\"editForm.GoodsNum\"}})],1),_c('el-form-item',{attrs:{\"label\":\"市场价\"}},[_c('el-input',{attrs:{\"auto-complete\":\"off\"},model:{value:(_vm.editForm.PurchasePrice),callback:function ($$v) {_vm.$set(_vm.editForm, \"PurchasePrice\", $$v)},expression:\"editForm.PurchasePrice\"}})],1),_c('el-form-item',{attrs:{\"label\":\"条形码\"}},[_c('el-input',{attrs:{\"auto-complete\":\"off\",\"disabled\":\"\"},model:{value:(_vm.editForm.GoodsBarCode),callback:function ($$v) {_vm.$set(_vm.editForm, \"GoodsBarCode\", $$v)},expression:\"editForm.GoodsBarCode\"}})],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogFormVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.updateStock}},[_vm._v(\"更 新\")])],1)],1)],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"inventory-manage\" style=\"width:95%\">\r\n    <el-card class=\"box-card\">\r\n      <div slot=\"header\" class=\"clearfix\">\r\n        <h3>库存管理</h3>\r\n      </div>\r\n      <div class=\"text item\">\r\n        <!-- 表单 -->\r\n        <el-form :inline=\"true\" :model=\"searchForm\">\r\n          <el-form-item>\r\n            <el-select\r\n              style=\"width:150px\"\r\n              v-model=\"searchForm.classify\"\r\n              placeholder=\"== 选择分类 ==\"\r\n              size=\"small\"\r\n            >\r\n              <el-option label=\"全部分类\" value></el-option>\r\n              <el-option label=\"烟酒类\" value=\"烟酒类\"></el-option>\r\n              <el-option label=\"零食类\" value=\"零食类\"></el-option>\r\n              <el-option label=\"饮料类\" value=\"饮料类\"></el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n          <el-form-item label=\"关键字：\">\r\n            <el-input\r\n              style=\"width:200px\"\r\n              v-model=\"searchForm.searchKey\"\r\n              placeholder=\"(商品名称，条形码)\"\r\n              size=\"small\"\r\n            ></el-input>\r\n          </el-form-item>\r\n          <el-form-item>\r\n            <el-button type=\"primary\" size=\"small\" @click=\"doSearch\">查询</el-button>\r\n          </el-form-item>\r\n        </el-form>\r\n        <!-- 表格 -->\r\n        <el-table\r\n          :data=\"InventorytableData\"\r\n          stripe\r\n          style=\"width: 100%\"\r\n          ref=\"InventorytableData\"\r\n          tooltip-effect=\"dark\"\r\n          \r\n        ><!-- @selection-change=\"handleSelectionChange\" -->\r\n          <el-table-column type=\"selection\" width=\"55\"></el-table-column>\r\n          <el-table-column prop=\"GoodsBarCode\" label=\"商品条形码\"></el-table-column>\r\n          <el-table-column prop=\"GoodsName\" label=\"商品名称\"></el-table-column>\r\n\r\n          <el-table-column prop=\"classify\" label=\"商品分类\"></el-table-column>\r\n          <el-table-column prop=\"PurchasePrice\" label=\"进价(元)\"></el-table-column>\r\n          <el-table-column prop=\"GoodsNum\" label=\"商品数量\"></el-table-column>\r\n          <el-table-column prop=\"inputTime\" label=\"添加时间\" :formatter=\"renderInputTime\"></el-table-column>\r\n          <el-table-column label=\"操作\" width=\"180px\">\r\n            <template slot-scope=\"scope\">\r\n              <el-button size=\"mini\" @click=\"handleEdit(scope.row)\">\r\n                <i class=\"el-icon-edit\"></i>编辑\r\n              </el-button>\r\n              <el-button size=\"mini\" type=\"danger\" @click=\"handleDeleteStock(scope.row.id)\">\r\n                <i class=\"el-icon-delete\"></i>删除\r\n              </el-button>\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n        <!-- 分页 -->\r\n        <el-pagination\r\n          style=\"margin-top:20px;background:transparent\"\r\n          @size-change=\"handleSizeChange\"\r\n          @current-change=\"handleCurrentChange\"\r\n          :current-page=\"currentPage\"\r\n          :page-sizes=\"[1, 3, 5, 10]\"\r\n          :page-size=\"pageSize\"\r\n          layout=\"total, sizes, prev, pager, next, jumper\"\r\n          :total=\"total\"\r\n        ></el-pagination>\r\n\r\n        <!-- 按钮 -->\r\n        <div style=\"margin-top:20px\">\r\n          <el-button type=\"danger\" size=\"mini\" @click=\"batchdel\">批量删除</el-button>\r\n          <el-button type=\"primary\" size=\"mini\" @click=\"deselect\">取消选择</el-button>\r\n        </div>\r\n\r\n        <!-- 修改弹窗 -->\r\n        <el-dialog title=\"修改\" :visible.sync=\"dialogFormVisible\">\r\n          <el-form :model=\"editForm\">\r\n            <!-- 产品名 -->\r\n            <el-form-item label=\"产品名\">\r\n              <el-input v-model=\"editForm.GoodsName\" auto-complete=\"off\"></el-input>\r\n            </el-form-item>\r\n            <!-- 数量 -->\r\n            <el-form-item label=\"数量\">\r\n              <el-input v-model=\"editForm.GoodsNum\" auto-complete=\"off\"></el-input>\r\n            </el-form-item>\r\n            <!-- 市场价 -->\r\n            <el-form-item label=\"市场价\">\r\n              <el-input v-model=\"editForm.PurchasePrice\" auto-complete=\"off\"></el-input>\r\n            </el-form-item>\r\n            <!-- 条形码 -->\r\n            <el-form-item label=\"条形码\">\r\n              <el-input v-model=\"editForm.GoodsBarCode\" auto-complete=\"off\" disabled></el-input>\r\n            </el-form-item>\r\n          </el-form>\r\n          <div slot=\"footer\" class=\"dialog-footer\">\r\n            <el-button @click=\"dialogFormVisible = false\">取 消</el-button>\r\n            <el-button type=\"primary\" @click=\"updateStock\">更 新</el-button>\r\n          </div>\r\n        </el-dialog>\r\n      </div>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { stockList, updateStock, StockDelete,getStockDataByPage,batchDeleteStock } from \"@/api/apis.js\";\r\nimport moment from \"moment\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      searchForm: {\r\n        classify: \"\",\r\n        searchKey: \"\"\r\n      },\r\n      // dialog对话框的默认显示状态\r\n      dialogFormVisible: false,\r\n      editId: \"\",\r\n      IdArr: [], //选中数据的id\r\n\r\n      // 分页\r\n      InventorytableData: [],\r\n      currentPage: 1, //当前页\r\n      pageSize: 5, //每页数据条数\r\n      total: 10, //总数据条数\r\n      visible: false,\r\n      editForm: {\r\n        GoodsName: \"\",\r\n        GoodsNum: \"\",\r\n        PurchasePrice: \"\",\r\n        GoodsBarCode: \"\"\r\n      },\r\n\r\n      // dialog对话框的默认显示状态\r\n      dialogFormVisible: false,\r\n\r\n    };\r\n  },\r\n  methods: {\r\n    //渲染页面\r\n    stockList() {\r\n      // 发送请求加载数据\r\n      stockList().then(data => {\r\n        // 把结果更新到数据对象,由双向绑定完成页面更新\r\n        this.InventorytableData = data;\r\n      });\r\n    },\r\n\r\n    // 渲染时间\r\n    renderInputTime(r, col, val) {\r\n      // moment函数参数需要处理的时间对象\r\n      // format时间处理格式\r\n      return moment(val).format(\"Y-MM-DD\");\r\n    },\r\n\r\n    //查询商品\r\n    doSearch() {\r\n      const _this = this;\r\n      stockList(this.searchForm).then(data => {\r\n        _this.InventorytableData = data;\r\n      });\r\n    },\r\n\r\n    //删除\r\n    handleDeleteStock(id) {\r\n      //提示用户 是否进行此操作\r\n      this.$confirm(\"此操作将永久删除该用户, 是否继续?\", \"提示\", {\r\n        confirmButtonText: \"确定\",\r\n        cancelButtonText: \"取消\",\r\n        type: \"warning\"\r\n      })\r\n        .then(() => {\r\n          //成功\r\n          StockDelete(id).then(res => {\r\n            //接收响应数据\r\n            let { code, reason } = res;\r\n            //判断\r\n            if (code === 0) {\r\n              //成功\r\n              this.$message({\r\n                type: \"success\",\r\n                message: reason\r\n              });\r\n              //重新刷新页面 -- 再次请求数据\r\n              this.stockList();\r\n            } else if (code === 1) {\r\n              //失败\r\n              this.$message.error(reason);\r\n            }\r\n          });\r\n        })\r\n        .catch(() => {});\r\n    },\r\n\r\n    //修改信息、再渲染\r\n    updateStock() {\r\n      const _this = this;\r\n\r\n      updateStock(this.editForm).then(result => {\r\n        if (result.success) {\r\n          this.$message({\r\n            // 修改成功\r\n            type: \"success\",\r\n            message: result.message,\r\n            duration: 500,\r\n            onClose() {\r\n              // 先隐藏对话框\r\n              _this.dialogFormVisible = false;\r\n              // 刷新页面\r\n              _this.stockList();\r\n            }\r\n          });\r\n        } else {\r\n          this.$message({\r\n            // 修改失败\r\n            type: \"error\",\r\n            message: result.message\r\n          });\r\n        }\r\n      });\r\n    },\r\n\r\n    handleEdit(row) {\r\n      // 显示对话框\r\n      this.dialogFormVisible = true;\r\n      // 手动把行数据,更新form对象上即可\r\n      this.editForm = row;\r\n    },\r\n\r\n     // 分页\r\n    ajaxgetListStock() {\r\n      getStockDataByPage(this.currentPage, this.pageSize).then(res => {\r\n        this.InventorytableData = res.data.data;\r\n        this.total = res.data.total;\r\n      });\r\n    },\r\n\r\n    handleSizeChange(pageSize) {\r\n      //每页条数\r\n      this.pageSize = pageSize;\r\n      //调用显示当前页数据函数\r\n      this.ajaxgetListStock();\r\n    },\r\n    handleCurrentChange(NewcurrentPage) {\r\n      //当前页\r\n      this.currentPage = NewcurrentPage;\r\n      //调用显示当前页数据函数\r\n      this.ajaxgetListStock();\r\n    },\r\n\r\n    SelectionChange(data) {\r\n      //当选择项发生变化时会触发该事件 -- 批量删除\r\n      this.IdArr = data.map(v => v.id); //取出所有数据的id们\r\n    },\r\n   \r\n    // 批量删除\r\n    batchdel() {\r\n      //批量删除\r\n      //如果用户没有选中 -- 就不用发送请求\r\n      const _this=this;\r\n      if (!_this.IdArr.length) {\r\n        _this.$message.error(\"请选中需要批量删除的数据！！！\");\r\n        return;\r\n      }\r\n      //优化用户体验 -- 警示框\r\n      _this.$confirm(\"此操作将批量删除选中数据, 是否继续?\", \"提示\", {\r\n        confirmButtonText: \"确定\",\r\n        cancelButtonText: \"取消\",\r\n        type: \"warning\"\r\n      })\r\n        .then(() => {\r\n          //发送ajax\r\n          batchDeleteStock({ IdArr: _this.IdArr })\r\n            .then(res => {\r\n              //接收响应参数\r\n              let { code, reason } = res;\r\n              //判断\r\n              if (code === 0) {\r\n                //删除成功\r\n                _this.$message({\r\n                  type: \"success\",\r\n                  message: reason\r\n                });\r\n                //刷新网页数据\r\n                _this.ajaxgetList();\r\n              } else if (code === 1) {\r\n                //删除失败\r\n                _this.$message.error(reason);\r\n              }\r\n            })\r\n            .catch(err => {\r\n              alert(err)\r\n            });\r\n        })\r\n        .catch(() => {\r\n          _this.$message({\r\n            type: \"info\",\r\n            message: \"已取消删除\"\r\n          });\r\n        });\r\n    },\r\n\r\n    // 取消删除\r\n    deselect(){//取消选择\r\n      this.$refs.InventorytableData.clearSelection();\r\n    },   \r\n  },\r\n\r\n  mounted() {\r\n    //页面加载渲染一次\r\n  this.ajaxgetListStock(this.currentPage);\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\">\r\n.inventory-manage {\r\n  .el-card {\r\n    background: transparent;\r\n    padding-bottom: 20px;\r\n    border: 0;\r\n    h3 {\r\n      font-size: 16px;\r\n    }\r\n    label {\r\n      color: rgb(121, 117, 117);\r\n    }\r\n  }\r\n}\r\n.inventory-manage .el-card .el-card__header {\r\n  padding: 12px 20px;\r\n  background: transparent;\r\n  border-bottom: 0;\r\n}\r\n.inventory-manage .el-card.is-always-shadow {\r\n  box-shadow: 0 0px 15px 10px rgba(0, 0, 0, 0.1);\r\n  border: 0;\r\n}\r\n.inventory-manage .el-card .el-card__header h3 {\r\n  color: lightblue;\r\n}\r\n.inventory-manage .el-table .el-table__row,\r\n.inventory-manage .el-table td,\r\n.inventory-manage .el-table th,\r\n.el-table tr {\r\n  background: transparent !important;\r\n  border: 0;\r\n  color: #fff;\r\n}\r\n.inventory-manage .el-table td {\r\n  width: 80px !important;\r\n}\r\n.inventory-manage .el-table--enable-row-hover .el-table__body tr:hover > td {\r\n  background-color: #212e3e !important;\r\n}\r\n.inventory-manage .el-table::before {\r\n  height: 0;\r\n}\r\n.inventory-manage table {\r\n  width: 1000px;\r\n  background-color: transparent;\r\n}\r\n.inventory-manage .el-table div.cell {\r\n  text-align: center;\r\n}\r\n.inventory-manage .el-pagination__total {\r\n  color: #fff;\r\n}\r\n\r\n.inventory-manage .el-pagination button:disabled,\r\n.inventory-manage .el-pagination .btn-next,\r\n.el-pagination .btn-prev,\r\n.inventory-manage .el-pager li {\r\n  background: transparent;\r\n}\r\n.inventory-manage .el-table,\r\n.el-table__expanded-cell {\r\n  background-color: transparent;\r\n}\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InventoryManage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InventoryManage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./InventoryManage.vue?vue&type=template&id=7ca5f510&\"\nimport script from \"./InventoryManage.vue?vue&type=script&lang=js&\"\nexport * from \"./InventoryManage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./InventoryManage.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InventoryManage.vue?vue&type=style&index=0&lang=less&\""],"sourceRoot":""}