(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3d824efb"],{"328a":function(t,e,a){},"53f5":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"product",staticStyle:{"min-width":"1100px"}},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("h3",[t._v("商品管理")])]),a("div",{staticClass:"text item"},[a("el-form",{attrs:{inline:!0,model:t.searchForm}},[a("el-form-item",[a("el-select",{staticStyle:{width:"150px"},attrs:{placeholder:"== 选择分类 ==",size:"small"},model:{value:t.searchForm.category,callback:function(e){t.$set(t.searchForm,"category",e)},expression:"searchForm.category"}},[a("el-option",{attrs:{label:"全部分类",value:""}}),a("el-option",{attrs:{label:"烟酒类",value:"烟酒类"}}),a("el-option",{attrs:{label:"零食类",value:"零食类"}}),a("el-option",{attrs:{label:"饮料类",value:"饮料类"}})],1)],1),a("el-form-item",{attrs:{label:"关键字："}},[a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"(商品名称，条形码)",size:"small"},model:{value:t.searchForm.searchKey,callback:function(e){t.$set(t.searchForm,"searchKey",e)},expression:"searchForm.searchKey"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.doSearch}},[t._v("查询")])],1)],1),a("el-table",{ref:"tableData",staticStyle:{width:"100%",background:"transparent",height:"400px","overflow-y":"scroll"},attrs:{data:t.tableData,stripe:"","tooltip-effect":"dark"}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{prop:"barCode",label:"条形码"}}),a("el-table-column",{attrs:{prop:"name",label:"商品名称"}}),a("el-table-column",{attrs:{prop:"category",label:"商品分类"}}),a("el-table-column",{attrs:{prop:"salePrice",label:"售价(元)"}}),a("el-table-column",{attrs:{prop:"stockPrice",label:"进价(元)"}}),a("el-table-column",{attrs:{prop:"marketPrice",label:"市场价(元)"}}),a("el-table-column",{attrs:{prop:"stockCount",label:"库存"}}),a("el-table-column",{attrs:{prop:"commodityWeight",label:"重量"}}),a("el-table-column",{attrs:{prop:"commodityUnit",label:"单位(克)"}}),a("el-table-column",{attrs:{label:"操作",width:"180px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return t.handleEdit(e.row)}}},[a("i",{staticClass:"el-icon-edit"}),t._v("编辑")]),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return t.handleDelete(e.row.id)}}},[a("i",{staticClass:"el-icon-delete"}),t._v("删除")])]}}])})],1),a("el-pagination",{staticStyle:{"margin-top":"20px",background:"transparent"},attrs:{"current-page":t.currentPage,"page-sizes":[1,3,5,10],"page-size":t.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}}),a("div",{staticStyle:{"margin-top":"20px"}},[a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:t.batchdel}},[t._v("批量删除")]),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.deselect}},[t._v("取消选择")])],1)],1)]),a("el-dialog",{attrs:{title:"修改",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{attrs:{model:t.editForm}},[a("el-form-item",{attrs:{label:"产品名"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.editForm.name,callback:function(e){t.$set(t.editForm,"name",e)},expression:"editForm.name"}})],1),a("el-form-item",{attrs:{label:"售价"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.editForm.salePrice,callback:function(e){t.$set(t.editForm,"salePrice",e)},expression:"editForm.salePrice"}})],1),a("el-form-item",{attrs:{label:"市场价"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.editForm.marketPrice,callback:function(e){t.$set(t.editForm,"marketPrice",e)},expression:"editForm.marketPrice"}})],1),a("el-form-item",{attrs:{label:"进价"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.editForm.stockPrice,callback:function(e){t.$set(t.editForm,"stockPrice",e)},expression:"editForm.stockPrice"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.updateProduct}},[t._v("更 新")])],1)],1)],1)},o=[],l=a("d282"),i={data:function(){return{searchForm:{category:"",searchKey:""},tableData:[],editForm:{id:"",name:"",salePrice:"",marketPrice:"",stockPrice:""},dialogFormVisible:!1,editId:"",IdArr:[],InventorytableData:[],currentPage:1,pageSize:5,total:10,visible:!1}},methods:{getProductList:function(){var t=this;Object(l["l"])().then((function(e){t.tableData=e}))},doSearch:function(){var t=this;Object(l["l"])(this.searchForm).then((function(e){t.tableData=e}))},handleDelete:function(t){var e=this;this.$confirm("此操作将永久删除该用户, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(l["s"])(t).then((function(t){var a=t.code,r=t.reason;0===a?(e.$message({type:"success",message:r}),e.getProductList()):1===a&&e.$message.error(r)}))})).catch((function(){}))},updateProduct:function(){var t=this,e=this;Object(l["v"])(this.editForm).then((function(a){a.success?t.$message({type:"success",message:a.message,duration:500,onClose:function(){e.dialogFormVisible=!1,e.getProductList()}}):t.$message({type:"error",message:a.message})}))},handleEdit:function(t){this.dialogFormVisible=!0,this.editForm=t},ajaxgetListProduct:function(){var t=this;Object(l["k"])(this.currentPage,this.pageSize).then((function(e){t.tableData=e.data.data,t.total=e.data.total}))},handleSizeChange:function(t){this.pageSize=t,this.ajaxgetListProduct()},handleCurrentChange:function(t){this.currentPage=t,this.ajaxgetListProduct()},SelectionChange:function(t){this.IdArr=t.map((function(t){return t.id}))},batchdel:function(){var t=this;t.IdArr.length?t.$confirm("此操作将批量删除选中数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){batchdelProduct({IdArr:t.IdArr}).then((function(e){var a=e.code,r=e.reason;0===a?(t.$message({type:"success",message:r}),t.ajaxgetList()):1===a&&t.$message.error(r)})).catch((function(t){alert(t)}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})})):t.$message.error("请选中需要批量删除的数据！！！")},deselect:function(){this.$refs.tableData.clearSelection()}},mounted:function(){this.ajaxgetListProduct(this.currentPage)}},s=i,n=(a("7c30"),a("2877")),c=Object(n["a"])(s,r,o,!1,null,null,null);e["default"]=c.exports},"7c30":function(t,e,a){"use strict";a("328a")}}]);
//# sourceMappingURL=chunk-3d824efb.3ae8b7b4.js.map